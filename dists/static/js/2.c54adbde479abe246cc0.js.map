{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/babel-runtime/helpers/toArray.js","webpack:///src/components/pages/cards/editCards.vue","webpack:///./src/components/pages/cards/editCards.vue?f524","webpack:///./src/components/pages/cards/editCards.vue","webpack:///src/components/pages/cards/changeCards.vue","webpack:///./src/components/pages/cards/changeCards.vue?70e8","webpack:///./src/components/pages/cards/changeCards.vue","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js"],"names":["__webpack_require__","module","exports","Array","from","__esModule","obj","_from","_from2","default","arr","isArray","editCards","data","cardsForm","giftName","term","instructions","receiveInstructions","fileList","goodsList","sort","disabled","components","vTitle","Title","vCards","changeCards","methods","getCards","_this","this","id","$route","params","axios","get","api","giftCard","then","res","status","console","log","$set","result","toString","code","$alert","message","confirmButtonText","callback","action","$router","push","$message","error","err","created","cards_editCards","render","_h","$createElement","_c","_self","staticClass","attrs","title","_v","cardsF","handleFn","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","props","optStatu","dialogTableVisible","goodsData","multipleSelection","isGoV","getRowKeys","row","pages","currentPage","totalPages","rules","required","trigger","validator","value","Error","test","details","watch","handler","curVal","oldVal","length","deep","indexMethod","index","handleCurrentChange","val","getGoodsList","handleSelectionChange","rows","selectIds","forEach","curPage","_this2","post","pageIndex","pageSize","pageTotal","it","disabledStr","url","toggleSelection","openGoodsBox","closeGoodsBox","doDelGoods","item","goodsArr","toArray_default","slice","good","splice","_this3","flag","$refs","multipleTable","toggleRowSelection","handleRemove","file","handleExceed","files","warning","handleUpload","_this4","formdata","FormData","append","method","upload","headers","Content-Type","fArr","submitForm","formName","_this5","validate","valid","addCards","rObj","extends_default","card","_this6","back","_this7","put","backCards","mounted","cards_changeCards","_vm","ref","model","label-width","label","prop","size","placeholder","$$v","expression","list-type","file-list","limit","before-upload","on-remove","on-exceed","type","slot","on","click","$event","_l","o","key","span","src","_s","goodsName","_e","autosize","minRows","maxRows","visible","width","update:visible","row-key","selection-change","reserve-selection","align","scopedSlots","_u","fn","scope","current-page","page-size","layout","page-count","current-change","update:currentPage","$defineProperty","createDesc","object","f","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done"],"mappings":"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","file":"static/js/2.c54adbde479abe246cc0.js","sourcesContent":["require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 1 2","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toArray.js\n// module id = 7nRM\n// module chunks = 1 2","<template>\r\n  <div class=\"create-rules\">\r\n      <v-title title=\"编辑礼品卡\"></v-title>\r\n      <v-cards :cardsF=\"cardsForm\" handleFn=\"edit\" :id=\"id\"></v-cards>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"../../../utils/api.js\";\r\nimport vTitle from \"../../common/Title\";\r\nimport vCards from \"./changeCards\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cardsForm: {\r\n        giftName: \"\",\r\n        term: \"\",\r\n        instructions: \"\",\r\n        receiveInstructions: \"\",\r\n        fileList: [],\r\n        goodsList: [],\r\n        sort: \"\",\r\n        disabled: \"false\"\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    vTitle,\r\n    vCards\r\n  },\r\n  methods: {\r\n    getCards() {\r\n      this.id = this.$route.params.id;\r\n      this.axios\r\n        .get(`${api.giftCard}/${this.id}`)\r\n        .then(res => {\r\n          if (res.status == 200 && res.data.status == 200) {\r\n            console.log(res.data);\r\n\r\n            this.$set(this.cardsForm, \"giftName\", res.data.result.giftName);\r\n            this.$set(this.cardsForm, \"fileList\", res.data.result.fileList);\r\n            this.$set(this.cardsForm, \"goodsList\", res.data.result.goodsList);\r\n            this.$set(\r\n              this.cardsForm,\r\n              \"instructions\",\r\n              res.data.result.instructions\r\n            );\r\n            this.$set(\r\n              this.cardsForm,\r\n              \"receiveInstructions\",\r\n              res.data.result.receiveInstructions\r\n            );\r\n            this.$set(this.cardsForm, \"sort\", res.data.result.sort);\r\n            this.$set(this.cardsForm, \"term\", res.data.result.term);\r\n            this.$set(\r\n              this.cardsForm,\r\n              \"disabled\",\r\n              res.data.result.disabled.toString()\r\n            );\r\n\r\n            this.id = res.data.result.id;\r\n          } else if (res.data.code == \"1000005\") {\r\n            this.$alert(\"提示\", res.data.message, {\r\n              confirmButtonText: \"确定\",\r\n              callback: action => {\r\n                this.$router.push(\"/login\");\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(res.data.message);\r\n          }\r\n        })\r\n        .then(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    this.getCards();\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/cards/editCards.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-rules\"},[_c('v-title',{attrs:{\"title\":\"编辑礼品卡\"}}),_vm._v(\" \"),_c('v-cards',{attrs:{\"cardsF\":_vm.cardsForm,\"handleFn\":\"edit\",\"id\":_vm.id}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1bcfb4d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/cards/editCards.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1bcfb4d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editCards.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editCards.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editCards.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bcfb4d4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editCards.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1bcfb4d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/cards/editCards.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"change-cards\">\r\n      <el-form :model=\"cardsForm\" :rules=\"rules\" ref=\"cardsForm\" label-width=\"200px\" class=\"from\">\r\n        <el-form-item label=\"礼品卡名称：\" prop=\"giftName\">\r\n          <el-input class=\"ipt\" size=\"medium\" v-model=\"cardsForm.giftName\" placeholder=\"请输入\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"礼品卡卡面：\" prop=\"fileList\">\r\n            <el-upload\r\n                class=\"ipt\"\r\n                action=\"\"\r\n                list-type=\"picture\"\r\n                :file-list=\"cardsForm.fileList\"\r\n                :limit=\"3\"\r\n                :before-upload=\"handleUpload\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-exceed=\"handleExceed\">\r\n                <el-button size=\"small\" type=\"success\">点击上传</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb，1-6张</div>\r\n            </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"有效期：\" prop=\"term\">\r\n          <el-input class=\"ipt\" size=\"medium\" v-model=\"cardsForm.term\" placeholder=\"请输入\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"排序：\" prop=\"sort\">\r\n          <el-input class=\"ipt\" size=\"medium\" v-model=\"cardsForm.sort\" placeholder=\"请输入\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"添加商品：\" prop=\"goodsList\">\r\n            <el-button type=\"success\" size=\"small\" @click=\"openGoodsBox()\">相关商品</el-button>\r\n            <el-row type=\"flex\" class=\"goods-list\" v-if=\"multipleSelection.length>0\">\r\n              <el-col class=\"goods-box\" :span=\"6\" v-for=\"o in multipleSelection\" :key=\"o.id\">\r\n                <div class=\"gb-card\">\r\n                  <img :src=\"o.fileList[0].url\" class=\"gb-image\">\r\n                  <div class=\"gb-info\">\r\n                    <span>{{o.goodsName}}</span>\r\n                    <div>\r\n                      <el-button class=\"gb-btn\" @click=\"doDelGoods(o)\">删除</el-button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-col>\r\n\r\n            </el-row>\r\n            <p class=\"err-tip\" v-if=\"multipleSelection.length<1 && isGoV\">请选择商品！ </p>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"领取页面使用说明：\" prop=\"instructions\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :autosize=\"{ minRows: 3, maxRows: 7}\"\r\n            placeholder=\"请输入\"\r\n            v-model=\"cardsForm.instructions\" \r\n            class=\"ipt\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"领取成功页面使用说明：\" prop=\"receiveInstructions\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :autosize=\"{ minRows: 3, maxRows: 7}\"\r\n            placeholder=\"请输入\"\r\n            v-model=\"cardsForm.receiveInstructions\"\r\n            class=\"ipt\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态：\" prop=\"disabled\">\r\n          <el-radio-group v-model=\"cardsForm.disabled\"> \r\n            <el-radio label=\"false\">启用</el-radio>\r\n            <el-radio label=\"true\">禁用</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n    \r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('cardsForm')\">保存</el-button>\r\n          <el-button @click=\"backCards()\">返回</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n\r\n      <el-dialog class=\"goods-dialog\" title=\"商品列表\" :visible.sync=\"dialogTableVisible\" width=\"70%\">\r\n        <el-table ref=\"multipleTable\" :data=\"goodsData\" :row-key=\"getRowKeys\" @selection-change=\"handleSelectionChange\">\r\n          <el-table-column\r\n            type=\"selection\"\r\n            width=\"55\" :reserve-selection=\"true\" v-model=\"multipleSelection\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"编号\"\r\n            width=\"80\"\r\n            align=\"center\"\r\n            type=\"index\"\r\n            :index=\"indexMethod\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"商品主图\"\r\n            width=\"180\"\r\n            align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <img class=\"tab-img\" :src=\"scope.row.url\">\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"goodsName\" label=\"商品名称\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"stock\" label=\"库存\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"price\" label=\"价格\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"disabledStr\" label=\"状态\" width=\"200\"></el-table-column>\r\n        </el-table> \r\n        <div class=\"pagination-wrap\">\r\n          <el-pagination\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"pages.currentPage\"\r\n            :page-size=\"5\"\r\n            layout=\"prev, pager, next, jumper\"\r\n            :page-count=\"pages.totalPages\">\r\n          </el-pagination>\r\n        </div>\r\n\r\n        <div class=\"close-box\">\r\n          <el-button @click=\"closeGoodsBox()\">确定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport api from \"../../../utils/api.js\";\r\n\r\nexport default {\r\n  props: [\"cardsF\", \"handleFn\", \"id\"],\r\n  data() {\r\n    var validateTerm = (term, value, callback) => {\r\n      if (value == \"\") {\r\n        callback(new Error(\"不可为空!\"));\r\n      } else if (!/^[1-9]\\d*$/.test(value)) {\r\n        callback(new Error(\"必须为正整数!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateSort = (sort, value, callback) => {\r\n      if (value == \"\") {\r\n        callback();\r\n      } else if (!/^[1-9]\\d*$/.test(value)) {\r\n        callback(new Error(\"必须为正整数!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      cardsForm: this.cardsF,\r\n      optStatu: this.handleFn,\r\n      dialogTableVisible: false,\r\n      goodsData: [],\r\n      multipleSelection: [],\r\n      isGoV: false,\r\n      getRowKeys(row) {\r\n        return row.id;\r\n      },\r\n      pages: {\r\n        currentPage: 1,\r\n        totalPages: 5\r\n      },\r\n      rules: {\r\n        giftName: [\r\n          { required: true, message: \"请输入商品名字\", trigger: \"blur\" }\r\n        ],\r\n        fileList: [\r\n          { required: true, message: \"请上传商品主图\", trigger: \"change\" }\r\n        ],\r\n        term: [\r\n          {\r\n            required: true,\r\n            validator: validateTerm,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        sort: [\r\n          {\r\n            required: false,\r\n            validator: validateSort,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        details: [\r\n          { required: true, message: \"请输入商品详情\", trigger: \"change\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  components: {},\r\n  watch: {\r\n    cardsForm: {\r\n      handler(curVal, oldVal) {\r\n        if (curVal.goodsList.length > 0) {\r\n          this.multipleSelection = curVal.goodsList;\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n    // goodsData: {\r\n    //   handler(curVal, oldVal) {\r\n    //     console.log(curVal);\r\n\r\n    //     if (curVal.length > 0) {\r\n    //       this.toggleSelection(this.multipleSelection);\r\n    //     }\r\n    //   },\r\n    //   deep: true\r\n    // }\r\n  },\r\n  methods: {\r\n    indexMethod(index) {\r\n      return index + 1;\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.getGoodsList(val);\r\n    },\r\n    handleSelectionChange(rows) {\r\n      this.multipleSelection = rows;\r\n      this.selectIds = [];\r\n      if (rows) {\r\n        rows.forEach(row => {\r\n          if (row) {\r\n            this.selectIds.push(row.id);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    getGoodsList(curPage) {\r\n      this.axios\r\n        .post(api.goodsList, {\r\n          pageIndex: curPage,\r\n          pageSize: 5\r\n        })\r\n        .then(res => {\r\n          if (res.status == 200 && res.data.status == 200) {\r\n            this.$set(this.pages, \"currentPage\", res.data.result.pageIndex);\r\n            this.$set(this.pages, \"totalPages\", res.data.result.pageTotal);\r\n\r\n            res.data.result.result.forEach(it => {\r\n              if (it.disabled) {\r\n                it.disabledStr = \"下架\";\r\n              } else {\r\n                it.disabledStr = \"上架\";\r\n              }\r\n              if (it.fileList.length > 0) {\r\n                it.url = it.fileList[0].url;\r\n              }\r\n              // console.log(this.multipleSelection);\r\n              // var flag = false;\r\n              // this.multipleSelection.forEach(row => {\r\n              //   if (it.id == row.id) {\r\n              //     flag = true;\r\n              //     return;\r\n              //   }\r\n              // });\r\n              // if (flag) {\r\n              //   console.log(\"1\");\r\n              //   this.$refs.multipleTable.toggleRowSelection(it, true);\r\n              // } else {\r\n              //   console.log(\"2\");\r\n              //   this.$refs.multipleTable.clearSelection();\r\n              // }\r\n            });\r\n            this.goodsData = res.data.result.result;\r\n          } else if (res.data.code == \"1000005\") {\r\n            this.$alert(\"提示\", res.data.message, {\r\n              confirmButtonText: \"确定\",\r\n              callback: action => {\r\n                this.$router.push(\"/login\");\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(res.data.message);\r\n          }\r\n        })\r\n        .then(err => {\r\n          console.log(err);\r\n        });\r\n      this.toggleSelection(this.multipleSelection);\r\n    },\r\n    openGoodsBox() {\r\n      this.dialogTableVisible = true;\r\n      this.getGoodsList(1);\r\n    },\r\n    closeGoodsBox() {\r\n      this.dialogTableVisible = false;\r\n      console.log(this.multipleSelection);\r\n    },\r\n    doDelGoods(item) {\r\n      var [...goodsArr] = this.multipleSelection;\r\n      console.log(goodsArr);\r\n      this.multipleSelection.forEach((good, index) => {\r\n        if (item.id == good.id) {\r\n          goodsArr.splice(index, 1);\r\n        }\r\n      });\r\n      this.multipleSelection = goodsArr;\r\n    },\r\n    toggleSelection(rows) {\r\n      this.goodsData.forEach(good => {\r\n        var flag = false;\r\n        rows.forEach(row => {\r\n          if (good.id == row.id) {\r\n            flag = true;\r\n          }\r\n        });\r\n        if (flag) {\r\n          this.$refs.multipleTable.toggleRowSelection(good, true);\r\n        } else {\r\n          // this.$refs.multipleTable.clearSelection();\r\n          this.$refs.multipleTable.toggleRowSelection(good, false);\r\n        }\r\n      });\r\n    },\r\n\r\n    handleRemove(file, fileList) {\r\n      this.$set(this.cardsForm, \"fileList\", fileList);\r\n    },\r\n    handleExceed(files, fileList) {\r\n      this.$message.warning(\r\n        `当前限制选择 1 个文件，本次选择了 ${\r\n          files.length\r\n        } 个文件，共选择了 ${files.length + fileList.length} 个文件`\r\n      );\r\n    },\r\n    handleUpload(file) {\r\n      this.file = file;\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", this.file);\r\n      formdata.append(\"type\", 1);\r\n\r\n      this.axios({\r\n        method: \"post\",\r\n        url: api.upload,\r\n        data: formdata,\r\n        headers: { \"Content-Type\": \"multipart/form-data\" }\r\n      })\r\n        .then(res => {\r\n          if (res.status == 200 && res.data.status == 200) {\r\n            let fArr = this.cardsForm.fileList;\r\n            fArr.push(res.data.result);\r\n            this.$set(this.cardsForm, \"fileList\", fArr);\r\n          } else if (res.data.code == \"1000005\") {\r\n            this.$router.push(\"/login\");\r\n          } else {\r\n            this.$message.error(res.data.message);\r\n          }\r\n        })\r\n        .then(err => {\r\n          console.log(err);\r\n        });\r\n      return false;\r\n    },\r\n    submitForm(formName) {\r\n      this.isGoV = true;\r\n      this.cardsForm.goodsList = this.multipleSelection;\r\n      if (this.multipleSelection.length < 1) {\r\n        return;\r\n      }\r\n\r\n      console.log(this.cardsForm);\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (this.optStatu == \"add\") {\r\n            console.log(\"add\");\r\n            this.addCards(this.cardsForm);\r\n          } else if (this.optStatu == \"edit\") {\r\n            let rObj = { ...this.cardsForm, id: this.id };\r\n            this.editCards(rObj);\r\n\r\n            console.log(\"edit\");\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    addCards(card) {\r\n      this.axios\r\n        .post(api.giftCard, card)\r\n        .then(res => {\r\n          if (\r\n            res.status == 200 &&\r\n            res.data.status == 200 &&\r\n            res.data.result == 1\r\n          ) {\r\n            this.$alert(\"提示\", \"操作成功，返回列表\", {\r\n              confirmButtonText: \"确定\",\r\n              callback: action => {\r\n                this.$router.back();\r\n              }\r\n            });\r\n          } else if (res.data.code == \"1000005\") {\r\n            this.$alert(\"提示\", res.data.message, {\r\n              confirmButtonText: \"确定\",\r\n              callback: action => {\r\n                this.$router.push(\"/login\");\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(res.data.message);\r\n          }\r\n        })\r\n        .then(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    editCards(card) {\r\n      this.axios\r\n        .put(api.giftCard, card)\r\n        .then(res => {\r\n          if (\r\n            res.status == 200 &&\r\n            res.data.status == 200 &&\r\n            res.data.result == 1\r\n          ) {\r\n            this.$alert(\"提示\", \"操作成功，返回列表\", {\r\n              confirmButtonText: \"确定\",\r\n              callback: action => {\r\n                this.$router.back();\r\n              }\r\n            });\r\n          } else if (res.data.code == \"1000005\") {\r\n            this.$alert(\"提示\", res.data.message, {\r\n              confirmButtonText: \"确定\",\r\n              callback: action => {\r\n                this.$router.push(\"/login\");\r\n              }\r\n            });\r\n          } else {\r\n            this.$message.error(res.data.message);\r\n          }\r\n        })\r\n        .then(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    backCards() {\r\n      this.$router.back();\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {}\r\n};\r\n</script>\r\n<style lang='less' scoped>\r\n.change-cards {\r\n  .from {\r\n    .el-form-item {\r\n      margin-bottom: 35px;\r\n      .ipt {\r\n        width: 441px;\r\n        margin-bottom: 5px;\r\n      }\r\n      .err-tip {\r\n        color: #f56c6c;\r\n        font-size: 12px;\r\n        line-height: 1;\r\n        padding-top: 2px;\r\n        position: absolute;\r\n        top: 100%;\r\n        left: 0;\r\n      }\r\n      #editor {\r\n        margin-top: 25px;\r\n        margin-bottom: 5px;\r\n        width: 80%;\r\n        height: 510px;\r\n        .edit {\r\n          height: 100%;\r\n        }\r\n      }\r\n      .goods-list {\r\n        padding: 25px 200px 25px 0;\r\n        align-content: flex-start;\r\n        flex-wrap: wrap;\r\n        .goods-box {\r\n          margin-bottom: 15px;\r\n          min-width: 250px;\r\n          padding-right: 25px;\r\n          .gb-card {\r\n            overflow: hidden;\r\n            border: 1px solid #f5f5f5;\r\n            border-radius: 12px;\r\n            padding-bottom: 15px;\r\n            img {\r\n              display: block;\r\n              width: 100% !important;\r\n              height: 180px !important;\r\n            }\r\n            .gb-info {\r\n              padding: 0 15px !important;\r\n              .gb-btn {\r\n                float: right;\r\n                font-size: 12px;\r\n                color: #f56c6c;\r\n                border: 1px solid #f56c6c;\r\n                padding: 3px 7px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .goods-dialog {\r\n    .tab-img {\r\n      width: 150px;\r\n      height: 100px;\r\n    }\r\n    .close-box {\r\n      text-align: right;\r\n      margin-top: 20px;\r\n    }\r\n    .pagination-wrap {\r\n      margin-top: 25px;\r\n      text-align: right;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/cards/changeCards.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"change-cards\"},[_c('el-form',{ref:\"cardsForm\",staticClass:\"from\",attrs:{\"model\":_vm.cardsForm,\"rules\":_vm.rules,\"label-width\":\"200px\"}},[_c('el-form-item',{attrs:{\"label\":\"礼品卡名称：\",\"prop\":\"giftName\"}},[_c('el-input',{staticClass:\"ipt\",attrs:{\"size\":\"medium\",\"placeholder\":\"请输入\"},model:{value:(_vm.cardsForm.giftName),callback:function ($$v) {_vm.$set(_vm.cardsForm, \"giftName\", $$v)},expression:\"cardsForm.giftName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"礼品卡卡面：\",\"prop\":\"fileList\"}},[_c('el-upload',{staticClass:\"ipt\",attrs:{\"action\":\"\",\"list-type\":\"picture\",\"file-list\":_vm.cardsForm.fileList,\"limit\":3,\"before-upload\":_vm.handleUpload,\"on-remove\":_vm.handleRemove,\"on-exceed\":_vm.handleExceed}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb，1-6张\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"有效期：\",\"prop\":\"term\"}},[_c('el-input',{staticClass:\"ipt\",attrs:{\"size\":\"medium\",\"placeholder\":\"请输入\"},model:{value:(_vm.cardsForm.term),callback:function ($$v) {_vm.$set(_vm.cardsForm, \"term\", $$v)},expression:\"cardsForm.term\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序：\",\"prop\":\"sort\"}},[_c('el-input',{staticClass:\"ipt\",attrs:{\"size\":\"medium\",\"placeholder\":\"请输入\"},model:{value:(_vm.cardsForm.sort),callback:function ($$v) {_vm.$set(_vm.cardsForm, \"sort\", $$v)},expression:\"cardsForm.sort\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"添加商品：\",\"prop\":\"goodsList\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){_vm.openGoodsBox()}}},[_vm._v(\"相关商品\")]),_vm._v(\" \"),(_vm.multipleSelection.length>0)?_c('el-row',{staticClass:\"goods-list\",attrs:{\"type\":\"flex\"}},_vm._l((_vm.multipleSelection),function(o){return _c('el-col',{key:o.id,staticClass:\"goods-box\",attrs:{\"span\":6}},[_c('div',{staticClass:\"gb-card\"},[_c('img',{staticClass:\"gb-image\",attrs:{\"src\":o.fileList[0].url}}),_vm._v(\" \"),_c('div',{staticClass:\"gb-info\"},[_c('span',[_vm._v(_vm._s(o.goodsName))]),_vm._v(\" \"),_c('div',[_c('el-button',{staticClass:\"gb-btn\",on:{\"click\":function($event){_vm.doDelGoods(o)}}},[_vm._v(\"删除\")])],1)])])])})):_vm._e(),_vm._v(\" \"),(_vm.multipleSelection.length<1 && _vm.isGoV)?_c('p',{staticClass:\"err-tip\"},[_vm._v(\"请选择商品！ \")]):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"领取页面使用说明：\",\"prop\":\"instructions\"}},[_c('el-input',{staticClass:\"ipt\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 7},\"placeholder\":\"请输入\"},model:{value:(_vm.cardsForm.instructions),callback:function ($$v) {_vm.$set(_vm.cardsForm, \"instructions\", $$v)},expression:\"cardsForm.instructions\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"领取成功页面使用说明：\",\"prop\":\"receiveInstructions\"}},[_c('el-input',{staticClass:\"ipt\",attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 7},\"placeholder\":\"请输入\"},model:{value:(_vm.cardsForm.receiveInstructions),callback:function ($$v) {_vm.$set(_vm.cardsForm, \"receiveInstructions\", $$v)},expression:\"cardsForm.receiveInstructions\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态：\",\"prop\":\"disabled\"}},[_c('el-radio-group',{model:{value:(_vm.cardsForm.disabled),callback:function ($$v) {_vm.$set(_vm.cardsForm, \"disabled\", $$v)},expression:\"cardsForm.disabled\"}},[_c('el-radio',{attrs:{\"label\":\"false\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"true\"}},[_vm._v(\"禁用\")])],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('cardsForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.backCards()}}},[_vm._v(\"返回\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"goods-dialog\",attrs:{\"title\":\"商品列表\",\"visible\":_vm.dialogTableVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-table',{ref:\"multipleTable\",attrs:{\"data\":_vm.goodsData,\"row-key\":_vm.getRowKeys},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"reserve-selection\":true},model:{value:(_vm.multipleSelection),callback:function ($$v) {_vm.multipleSelection=$$v},expression:\"multipleSelection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"80\",\"align\":\"center\",\"type\":\"index\",\"index\":_vm.indexMethod}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品主图\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"tab-img\",attrs:{\"src\":scope.row.url}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodsName\",\"label\":\"商品名称\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock\",\"label\":\"库存\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"价格\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"disabledStr\",\"label\":\"状态\",\"width\":\"200\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-wrap\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pages.currentPage,\"page-size\":5,\"layout\":\"prev, pager, next, jumper\",\"page-count\":_vm.pages.totalPages},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.pages, \"currentPage\", $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"close-box\"},[_c('el-button',{on:{\"click\":function($event){_vm.closeGoodsBox()}}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c3cccfb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/cards/changeCards.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c3cccfb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./changeCards.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changeCards.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changeCards.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c3cccfb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./changeCards.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c3cccfb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/cards/changeCards.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 1 2","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 1 2","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 1 2"],"sourceRoot":""}